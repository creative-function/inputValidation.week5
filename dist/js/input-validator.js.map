{"version":3,"sources":["input-validator.js"],"names":["InputValidator","selector","options","console","log","$fields","document","querySelectorAll","forEach","$field","domElement","addEventListener","validate","showErrors","previousError","querySelector","body","removeChild","fieldPosition","getBoundingClientRect","errorBox","createElement","classList","add","innerHTML","errors","append","style","position","borderRadius","padding","boxShadow","top","left","right","backgroundColor","display","setupListeners"],"mappings":";;;;;;;;;;IAAMA,c;;;;;AAEF;AACA;AACA;yBACYC,Q,EAAUC,O,EAAQ;AAAA;;AAC1BC,MAAAA,OAAO,CAACC,GAAR,CAAa,2CAAb,EAD0B,CAG1B;;AACA,UAAMC,OAAO,GAAGC,QAAQ,CAACC,gBAAT,CAA0BN,QAA1B,CAAhB,CAJ0B,CAM1B;;AACAI,MAAAA,OAAO,CAACG,OAAR,CAAgB,UAACC,MAAD,EAAW;AACvB;AACC,YAAI,KAAJ,CAASA,MAAT,EAAiBP,OAAjB,EAFsB,CAGtB;AACJ,OAJD;AAKH;;;AAGD,0BAAYQ,UAAZ,EAAuB;AAAA;;AAAA;;AAAA,sCAaZ,YAAM;AACbP,MAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AAEH,KAhBsB;;AAAA,4CAiBP,YAAM;AACdD,MAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ,EADc,CAId;AAEA;AACA;AACA;;AAEA,MAAA,MAAI,CAACK,MAAL,CAAYE,gBAAZ,CAA6B,OAA7B,EAAsC;AAAA,eAAK,MAAI,CAACC,QAAL,EAAL;AAAA,OAAtC,EAVc,CAYd;AACA;;;AAEA,MAAA,MAAI,CAACH,MAAL,CAAYE,gBAAZ,CAA6B,OAA7B,EAAsC,MAAI,CAACE,UAA3C;AAIP,KApCsB;;AAAA,wCAsCV,YAAM;AAEf,UAAIC,aAAa,GAAGR,QAAQ,CAACS,aAAT,CAAuB,SAAvB,CAApB;;AAEA,UAAGD,aAAa,KAAK,IAArB,EAA0B;AACtBR,QAAAA,QAAQ,CAACU,IAAT,CAAcC,WAAd,CAA0BH,aAA1B;AAEH;;AAED,UAAII,aAAa,GAAG,MAAI,CAACT,MAAL,CAAYU,qBAAZ,EAApB;;AAGA,UAAIC,QAAQ,GAAGd,QAAQ,CAACe,aAAT,CAAuB,KAAvB,CAAf;AACAD,MAAAA,QAAQ,CAACE,SAAT,CAAmBC,GAAnB,CAAuB,QAAvB;AACAH,MAAAA,QAAQ,CAACI,SAAT,GAAqB,MAAI,CAACC,MAA1B;AACAnB,MAAAA,QAAQ,CAACU,IAAT,CAAcU,MAAd,CAAqBN,QAArB;AAEAA,MAAAA,QAAQ,CAACO,KAAT,CAAeC,QAAf,GAA0B,UAA1B,CAjBe,CAkBf;;AACAR,MAAAA,QAAQ,CAACO,KAAT,CAAeE,YAAf,GAA8B,MAA9B;AACAT,MAAAA,QAAQ,CAACO,KAAT,CAAeG,OAAf,GAAyB,KAAzB;AACAV,MAAAA,QAAQ,CAACO,KAAT,CAAeI,SAAf,GAA2B,4BAA3B;AACAX,MAAAA,QAAQ,CAACO,KAAT,CAAeK,GAAf,GAAqBd,aAAa,CAACc,GAAd,GAAoB,IAAzC;AACAZ,MAAAA,QAAQ,CAACO,KAAT,CAAeM,IAAf,GAAsBf,aAAa,CAACgB,KAAd,GAAsB,IAA5C;;AAEA,UAAGd,QAAQ,CAACI,SAAZ,EAAsB;AAClB,QAAA,MAAI,CAACf,MAAL,CAAYkB,KAAZ,CAAkBQ,eAAlB,GAAoC,MAApC;AACH,OAFD,MAEK;AACD,QAAA,MAAI,CAAC1B,MAAL,CAAYkB,KAAZ,CAAkBQ,eAAlB,GAAoC,OAApC;AACAf,QAAAA,QAAQ,CAACO,KAAT,CAAeS,OAAf,GAAwB,MAAxB;AACH;;AAEDjC,MAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyC,MAAI,CAACqB,MAA9C;AAEH,KAxEsB;;AACnBtB,IAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCM,UAAzC;AAEA,SAAKD,MAAL,GAAaC,UAAb,CAHmB,CAKnB;;AACA,SAAKe,MAAL,GAAc,EAAd;AAEA,SAAKY,cAAL;AACA,SAAKzB,QAAL;AACA,SAAKC,UAAL;AACH","sourcesContent":["class InputValidator{\n\n    // a static method is a method (aka function) that can only be called if attactched to its class aka InputValidator/RquiredFieldValidator etc\n    //when the init() method is called, it will create a *this* keyword to represent the class that called it. InputValdiator.init() makes *this* = InputValdiator.  RequiredFieldValidator.init() makes *this* = RequredFieldValidator\n    //the static init must have an \"options\" argument (variable name) so that other constructors can add arguments for their own specific needs later on\n    static init(selector, options){\n        console.log ('Invalidator.init() - I am a static method')\n\n        //select ALL nodes with selector parameter and put them into an array\n        const $fields = document.querySelectorAll(selector)\n       \n        // in the $fields array, for each selector paramter (field), do this thing.\n        $fields.forEach(($field)=> {\n            // new RequiredFieldValidator($field = '[data-required' , options = variable/argument placeholder (being passed through and will be executed by the validator that finds a need/use for it) )\n             new this($field, options)\n             // const instance = new this($field) optional variable wrapping\n        })\n    }\n\n\n    constructor(domElement){\n        console.log('inputValidator() set on: ', domElement);\n\n        this.$field= domElement;\n        \n        //an empty array to collect error messages (see req-field)\n        this.errors = [];\n\n        this.setupListeners()\n        this.validate()\n        this.showErrors()\n    }\n\n    validate = () => {\n        console.log('InputValidator.validate')\n\n    }\n    setupListeners= () => {\n            console.log('InputValidator.setupListeners')\n\n\n            // on keyup, both aEL will run in the order they were written. \n\n            // each child class (reqField, formVal) has thier own validator() fucnction insde them with different instructions.\n            //on 'keyup' determine which *this* aka child class is being referred to and runs that verson of thier validator() function\n            //It does not run immediately because *this* has a changing value and we do not want to bind the function until we know which child class *this* is referring to.\n            \n            this.$field.addEventListener('keyup', ()=> this.validate())\n            \n            //this.showErrors binds the callback function waiting below immediatley to the current *this* value.\n            //this.showErrors does not use () because we are not running it, just binding it so we know what function to to run later \n\n            this.$field.addEventListener('keyup', this.showErrors)\n\n           \n        \n    }\n\n    showErrors = () => {\n        \n        let previousError = document.querySelector('.errors');\n        \n        if(previousError !== null){\n            document.body.removeChild(previousError);\n\n        }\n\n        let fieldPosition = this.$field.getBoundingClientRect()\n\n\n        let errorBox = document.createElement(\"div\");\n        errorBox.classList.add('errors')\n        errorBox.innerHTML = this.errors;\n        document.body.append(errorBox);\n\n        errorBox.style.position = \"absolute\";\n        // errorBox.style.height = \"25\" + \"px\";\n        errorBox.style.borderRadius = '10px'\n        errorBox.style.padding = '5px'\n        errorBox.style.boxShadow = '0 5px 10px rgba(0,0,0,0.5)'\n        errorBox.style.top = fieldPosition.top + 'px';\n        errorBox.style.left = fieldPosition.right + 'px';\n\n        if(errorBox.innerHTML){\n            this.$field.style.backgroundColor = 'pink';\n        }else{\n            this.$field.style.backgroundColor = 'white';\n            errorBox.style.display ='none';\n        } \n\n        console.log('InputValidator.showErrors', this.errors);\n       \n    }\n}\n\n\n"],"file":"input-validator.js"}